[
  {
    "ABS": [
      {
        "name-var": "$ABS_ACCUR",
        "sintax": "DECL ABS_ACCUR_STATE con",
        "discriptions": "Позволяет определить, имеется ли на роботе более точная кинематическая модель. Роботы kuka достаточно точные и подходят для интеграции в работу с мелкими деталями, но точность робота зависит от трех факторов, как раз которые поможет определить системная переменная $ABS_ACCUR. 1) Робот не откалиброван con = $ABS_ACCUR,  con - примет значение #NONE\n   Чтобы понять, что дело в калибровке, необходимо убедиться включенали опция Absolute Accuracy (платная лицензия kuka)\n2) Робот откалиброван но точная модель отключена con = $ABS_ACCUR,  con - примет значение #INACTIVE\n   это означает что точная модель отключена в ручную, что бы ее включить нужно переменной $DEACTIVATE_ABS_ACCUR\n   присвоить статус FALSE. Важно отметить, что если точная модель имеется и по каким то причинам была в ручную изменена переменная\n   $DEACTIVATE_ABS_ACCUR на TRUE то это действует до следующего перезапуска контроллера.\n3) Робот откалиброван и точная модель включена con = $ABS_ACCUR,  con - примет значение #ACTIVE\n",
        "example": "DEF check_accuracy()\n    DECL ABS_ACCUR_STATE con\n\n    con = $ABS_ACCUR\n\n    IF con == #ACTIVE THEN\n        ; Точная модель активна — всё хорошо\n        ; Можно использовать высокоточные позиции\n    ELSEIF con == #INACTIVE THEN\n        ; Модель есть, но отключена\n        ; Возможно, стоит проверить $DEACTIVATE_ABS_ACCUR\n    ELSE\n        ; con == #NONE\n        ; Точная модель не установлена\n    ENDIF\nEND\n"
      },
      {
        "name-var": "$ABS_CONVERT",
        "sintax": "$ABS_CONVERT = TRUE",
        "discriptions": "Позволяет автоматически преобразовать ранее записанные («наученные») позиции в координаты, соответствующие точной модели. Если наша программа была написана с помощью координат, которые были внесены до калибровки или при выключенным в ручную $DEACTIVATE_ABS_ACCUR, то следует при запуске активировать $ABS_CONVERT = TRUE Это позволит автоматически исправить не точные координаты. После этого $ABS_CONVERT необходимо отключить, чтобы уже исправленные координаты не перезаписались вновь. Внутренне KUKA помечает каждую точку: бит 5 в поле состояния (state) показывает, является ли позиция «абсолютно точной». ➤ Если бит = 1 — позиция уже точная → не конвертируется повторно. ➤ Это защищает от многократного пересчёта.\n",
        "example": "DEF CONVERT_POINTS()\n  DECL ABS_ACCUR_STATE state\n  state = $ABS_ACCUR\n  \n  IF state <> #ACTIVE THEN\n      ; Можно показать сообщение вместо HALT\n      MSG(\"Точная модель не активна!\")\n      RETURN\n  ENDIF\n\n  $ABS_CONVERT = TRUE\n  LOAD(\"old_program.src\")\n  old_program()   ; обязательно вызвать, чтобы точки \"прочитались\"\n  SAVE(\"old_program.src\")\n  $ABS_CONVERT = FALSE\n  MSG(\"Конвертация завершена. Файл сохранён.\")\nEND\n"
      }
    ]
  }
]